<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Prof.: Pedro Albarrán" />
<meta name="author" content="Prof.: Alberto Pérez" />


<title>Ejercicio Tema 07 - Bootstrap</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Big Data (UA)</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Introducción</a>
</li>
<li>
  <a href="Contenidos.html">Contenidos</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Ejercicio Tema 07 - Bootstrap</h1>
<h4 class="author">Prof.: Pedro Albarrán</h4>
<h4 class="author">Prof.: Alberto Pérez</h4>
<h4 class="date">Universidad de Alicante, Curso 2020/21</h4>

</div>


<div id="datos" class="section level2">
<h2>Datos</h2>
<p>La Comisión de Planificación del Valle del Pionero (PVPC) recolectó datos en Florencia, Massachusetts por un período de noventa días. Los recolectores de datos configuraron un sensor láser que registra cuando un usuario del camino ciclista (“via verde”) pasa por la estación de recogida de datos.</p>
<pre class="r"><code>#install.packages(&quot;mosaicData&quot;)
library(&quot;mosaicData&quot;)
data(&quot;RailTrail&quot;)</code></pre>
<p>El PVPC quiere entender la relación entre el número de ciclistas diarios (es decir, el número de ciclistas y caminantes que usan el carril bici en un día dado) y una colección de variables explicativas, incluyendo la temperatura, lluvia, nubosidad y el día de la semana. Para esto, estimamos el siguiente modelo de regresión:</p>
<pre class="r"><code>modelo &lt;- lm(volume ~ hightemp + cloudcover + weekday + precip, 
             data = RailTrail)
modelo %&gt;% broom::tidy() %&gt;% kbl() %&gt;% kable_classic()</code></pre>
<table class=" lightable-classic" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; margin-left: auto; margin-right: auto;'>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
76.826254
</td>
<td style="text-align:right;">
62.7097351
</td>
<td style="text-align:right;">
1.225109
</td>
<td style="text-align:right;">
0.2239183
</td>
</tr>
<tr>
<td style="text-align:left;">
hightemp
</td>
<td style="text-align:right;">
5.548811
</td>
<td style="text-align:right;">
0.7805141
</td>
<td style="text-align:right;">
7.109174
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
cloudcover
</td>
<td style="text-align:right;">
-8.502548
</td>
<td style="text-align:right;">
3.3389634
</td>
<td style="text-align:right;">
-2.546463
</td>
<td style="text-align:right;">
0.0126844
</td>
</tr>
<tr>
<td style="text-align:left;">
weekdayTRUE
</td>
<td style="text-align:right;">
-35.045330
</td>
<td style="text-align:right;">
21.7524650
</td>
<td style="text-align:right;">
-1.611097
</td>
<td style="text-align:right;">
0.1108660
</td>
</tr>
<tr>
<td style="text-align:left;">
precip
</td>
<td style="text-align:right;">
-106.483028
</td>
<td style="text-align:right;">
40.7199040
</td>
<td style="text-align:right;">
-2.615012
</td>
<td style="text-align:right;">
0.0105546
</td>
</tr>
</tbody>
</table>
<p>A partir de ahora, trabajaréis con un coeficiente concreto dependiendo de la última cifra de vuestro DNI o similar:</p>
<ul>
<li>si es 1, 4 o 7, con el de <code>hightemp</code></li>
<li>si es 2, 5 o 8, con el de <code>cloudcover</code></li>
<li>si es 3, 6 o 9, con el de <code>weekday</code></li>
<li>si es 0, con el de <code>precip</code></li>
</ul>
</div>
<div id="información-de-utilidad" class="section level2">
<h2>Información de utilidad</h2>
<p>Podéis acceder a los coefficientes de estimados por <code>lm()</code> con la función <code>coef()</code>, a la matriz de varianza-covarianza de los coeficientes con <code>vcov</code> y la varianza del error con <code>summary(modelo)$sigma**2</code>. Por ejemplo,</p>
<pre class="r"><code>coef(modelo) 
vcov(modelo)

summary(modelo)$sigma**2 </code></pre>
</div>
<div id="vuestro-ejercicio" class="section level2">
<h2>Vuestro Ejercicio</h2>
<ol style="list-style-type: decimal">
<li><p>Bajo el supuesto de normalidad de los errores en el modelo de regresión, calcular el intervalo de confianza al 95% para vuestro coeficiente y el intervalo de confianza al 95% para la varianza del error.</p>
<p>Nota: En R, los valores críticos se obtienen de la siguiente manera:</p>
<ul>
<li><p>el de una normal estándar que deja a su izquierda una probabilidad <span class="math inline">\(a\)</span>, <span class="math inline">\(0&lt;a&lt;1\)</span>: <code>qnorm(a)</code></p></li>
<li><p>el de una <span class="math inline">\(\chi ^2\)</span> con <span class="math inline">\(q\)</span> grados de libertad que deja a su izquierda una probabilidad <span class="math inline">\(a\)</span>, <span class="math inline">\(0&lt;a&lt;1\)</span>: <code>qchisq(a, q)</code></p></li>
</ul></li>
<li><p>Utilizar bootstrap para obtener el intervalo de confianza al 95% para vuestro coeficiente y el intervalo de confianza al 95% para la varianza del error. Debéis fijar como semilla vuestro DNI para realizar un bucle como el visto en clase.</p>
<p>NOTA: tened cuidado con el tipo de datos que tenéis aquí. En el ejemplo de clase, en la asignación del bucle <code>for</code> teníamos un “data frame” (resultado del <code>summarize</code>) mientra que ahora trabajáis con <code>coef</code> y <code>summary(modelo)$sigma**2</code> que devuelven “arrays”.</p></li>
<li><p>Comentar BREVEMENTE las diferencias en los intervalos de confianza de ambos apartados. (Podéis incluirlo como breve comentario en vuestro archivo .R)</p></li>
</ol>
<!--
Como os he comentado en clase, debéis entregar un ejercicio para antes del jueves 21 de noviembre a las 23:00h.
-->
<p>Rellenad este <a href="https://docs.google.com/forms/d/e/1FAIpQLSdxiED_Cc9JoMvQIbvezUY_0ZDff17P_nalVfjycCWVRQq9WA/viewform">FORMULARIO</a> con vuestros datos y subid vuestro archivo de .R</p>
<p>IMPORTANTE: el nombre del archivo DEBE EMPEZAR con vuestro número de DNI (el resto es libre): ej., <code>12345678_ET07_micod.R</code></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
